<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create resources • MolgenisArmadillo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Create resources">
<meta property="og:description" content="MolgenisArmadillo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MolgenisArmadillo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/MolgenisArmadillo.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/create_resources.html">Create resources</a>
    </li>
    <li>
      <a href="../articles/creating_data_subsets.html">Creating data subsets</a>
    </li>
    <li>
      <a href="../articles/install_packages.html">Install packages</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/molgenis/molgenis-r-armadillo/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Create resources</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/molgenis/molgenis-r-armadillo/blob/HEAD/vignettes/create_resources.Rmd" class="external-link"><code>vignettes/create_resources.Rmd</code></a></small>
      <div class="hidden name"><code>create_resources.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/molgenis/molgenis-r-armadillo/" class="external-link">MolgenisArmadillo</a></span><span class="op">)</span></span></code></pre></div>
<p>If you want to perform “omics”-like analyses you probably need to upload data (resources). By default Armadillo supports file uploads up to 500MB. If you need to upload larger resources, please contact <a href="mailto:molgenis-support@umcg.nl" class="email">molgenis-support@umcg.nl</a>.</p>
<p>There are 2 roles you can assume using the package. The datamanager role and the researcher role.</p>
<div class="section level2">
<h2 id="datamanager">Datamanager<a class="anchor" aria-label="anchor" href="#datamanager"></a>
</h2>
<p>The datamanager needs to make the data available to the researchers. Besides this you need to create the resources to access the data.</p>
</div>
<div class="section level2">
<h2 id="researcher">Researcher<a class="anchor" aria-label="anchor" href="#researcher"></a>
</h2>
<p>The researcher can call DataSHIELD analysis methods on the data uploaded by the datamanager.</p>
<div class="section level3">
<h3 id="upload-the-data">Upload the data<a class="anchor" aria-label="anchor" href="#upload-the-data"></a>
</h3>
<p>As a datamanager you need to access the Armadillo webinterface to be able to access the resource.</p>
<ol style="list-style-type: decimal">
<li>We are using data from the following sources:</li>
</ol>
<ul>
<li><a href="https://github.com/isglobal-brge/brge_data_large/blob/master/data/gse66351_1.rda" class="external-link uri">https://github.com/isglobal-brge/brge_data_large/blob/master/data/gse66351_1.rda</a></li>
<li><a href="https://github.com/isglobal-brge/brge_data_large/blob/master/data/gse66351_2.rda" class="external-link uri">https://github.com/isglobal-brge/brge_data_large/blob/master/data/gse66351_2.rda</a></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Login with your institute account.</li>
<li>Create a project. For example <code>omics</code>.</li>
<li>Click on the edit project button to the right of the name of your project.</li>
<li>Create a new folder for your data. For example <code>ewas</code>.</li>
<li>Click on the “Select a file to upload” button or drag your file to upload to the box and click on “Upload”. Upload the omics data.</li>
</ol>
</div>
<div class="section level3">
<h3 id="upload-the-resources-in-rstudio">Upload the resources (in Rstudio)<a class="anchor" aria-label="anchor" href="#upload-the-resources-in-rstudio"></a>
</h3>
<p>A second option to upload data (resources) is on the <a href="https://lifecycle.analysis.molgenis.org/" class="external-link">Central Analysis Server (CAS)</a> within Rstudio As datamanager you first need to login to Armadillo (as <code>superuser</code>)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/armadillo.login.html">armadillo.login</a></span><span class="op">(</span><span class="st">"https://armadillo3-01.molgeniscloud.org"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "We're opening a browser so you can log in with code DNW9MK"</span></span></code></pre></div>
<div class="section level4">
<h4 id="install-prerequisites">Install prerequisites<a class="anchor" aria-label="anchor" href="#install-prerequisites"></a>
</h4>
<p>If you want to install a package on the Armadillo Rserver you can execute the following. The selected profile is always <code>default</code> if none is specified. If your profile doesn’t have the <code>resourcer</code> package installed, install it:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"resourcer"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The downloaded binary packages are in</span></span>
<span><span class="co">#&gt;  /var/folders/sy/d5l5fdyj6z98mgclrl_bbkzr0000gn/T//RtmpsH0W60/downloaded_packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">resourcer</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: R6</span></span>
<span><span class="co">#&gt; Loading required package: httr</span></span>
<span><span class="co">#&gt; Registering LocalFileResourceGetter...</span></span>
<span><span class="co">#&gt; Registering HttpFileResourceGetter...</span></span>
<span><span class="co">#&gt; Registering ScpFileResourceGetter...</span></span>
<span><span class="co">#&gt; Registering GridFsFileResourceGetter...</span></span>
<span><span class="co">#&gt; Registering OpalFileResourceGetter...</span></span>
<span><span class="co">#&gt; Registering MariaDBResourceConnector...</span></span>
<span><span class="co">#&gt; Registering PostgresResourceConnector...</span></span>
<span><span class="co">#&gt; Registering SparkResourceConnector...</span></span>
<span><span class="co">#&gt; Registering PrestoResourceConnector...</span></span>
<span><span class="co">#&gt; Registering TidyFileResourceResolver...</span></span>
<span><span class="co">#&gt; Registering ShellResourceResolver...</span></span>
<span><span class="co">#&gt; Registering SshResourceResolver...</span></span>
<span><span class="co">#&gt; Registering RDataFileResourceResolver...</span></span>
<span><span class="co">#&gt; Registering RDSFileResourceResolver...</span></span>
<span><span class="co">#&gt; Registering SQLResourceResolver...</span></span>
<span><span class="co">#&gt; Registering NoSQLResourceResolver...</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-resources">Create resources<a class="anchor" aria-label="anchor" href="#create-resources"></a>
</h4>
<p>In order to be able to assign the data uploaded in the armadillo you need to create the resources as well. The data files you uploaded to armadillo, can be retrieved via the following URL: <code>yoururl + /storage/projects/{project name}/objects/{folder name}%2F{filename}</code> and example is: <code>https://armadillo3-01.molgeniscloud.org/storage/projects/omics/objects/ewas%2Fgse66351_1.rda</code>. Here the URL is <code>https://armadillo3-01.molgeniscloud.org</code>, the project name is <code>omics</code>, the folder is <code>ewas</code> and the name of the data file is <code>gse66351_1.rda</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resGSE1</span> <span class="op">&lt;-</span> <span class="fu">resourcer</span><span class="fu">::</span><span class="fu">newResource</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"GSE66351_1"</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"https://armadillo3-01.molgeniscloud.org/storage/projects/omics/objects/ewas%2Fgse66351_1.rda"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"ExpressionSet"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">resGSE2</span> <span class="op">&lt;-</span> <span class="fu">resourcer</span><span class="fu">::</span><span class="fu">newResource</span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"GSE66351_1"</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"https://armadillo3-01.molgeniscloud.org/storage/projects/omics/objects/ewas%2Fgse66351_1.rda"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"ExpressionSet"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/armadillo.upload_resource.html">armadillo.upload_resource</a></span><span class="op">(</span>project<span class="op">=</span><span class="st">"omics"</span>, folder<span class="op">=</span><span class="st">"ewas"</span>, resource <span class="op">=</span> <span class="va">resGSE1</span>, name <span class="op">=</span> <span class="st">"GSE66351_1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Compressing...</span></span>
<span><span class="co">#&gt; Uploaded ewas/GSE66351_1</span></span>
<span><span class="fu"><a href="../reference/armadillo.upload_resource.html">armadillo.upload_resource</a></span><span class="op">(</span>project<span class="op">=</span><span class="st">"omics"</span>, folder<span class="op">=</span><span class="st">"ewas"</span>, resource <span class="op">=</span> <span class="va">resGSE2</span>, name <span class="op">=</span> <span class="st">"GSE66351_2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Compressing...</span></span>
<span><span class="co">#&gt; Uploaded ewas/GSE66351_2</span></span></code></pre></div>
<p>The data is now available for researcher to assign.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mariska Slofstra, Sido Haakma, Tommy de Boer, Fleur Kelpin, Morris Swertz.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
